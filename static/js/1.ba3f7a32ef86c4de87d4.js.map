{"version":3,"sources":["webpack:///src/pages/BlogArchive.vue","webpack:///./src/pages/BlogArchive.vue?6d39","webpack:///./src/pages/BlogArchive.vue"],"names":["BlogArchive","name","data","labelType","labelStr","archiveList","test","countBlog","pageIndex","components","MyPagination","mounted","this","$route","query","id","console","log","getBlogsByType","methods","onChange","_this","Object","request","then","response","formatBlogList","catch","err","gotoRead","$router","push","onPageSelect","index","length","i","fyear","created_at","substring","pages_BlogArchive","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_e","_l","item","on","click","$event","number","attrs","aria-hidden","title","page-count","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"uHAqBAA,GACAC,KAAA,aACAC,KAFA,WAGA,OACAC,UAAA,UACAC,SAAA,UAEAC,YAAA,KACAC,KAAA,MACAC,UAAA,EACAC,UAAA,IAGAC,YACAC,uBAAA,GAEAC,QAhBA,WAiBAC,KAAAC,OAAAC,MAAAC,KACAH,KAAAT,UAAAS,KAAAC,OAAAC,MAAAC,IAEAH,KAAAC,OAAAC,MAAAb,OACAW,KAAAR,SAAAQ,KAAAC,OAAAC,MAAAb,MAGAW,KAAAC,OAAAC,MAAAN,UACAI,KAAAJ,UAAAI,KAAAC,OAAAC,MAAAN,UAEAI,KAAAJ,UAAA,EAGAQ,QAAAC,IAAAL,KAAAT,UAAA,MAAAS,KAAAR,UACAQ,KAAAM,eAAAN,KAAAJ,YAIAW,SACAC,SADA,aAIAF,eAJA,SAIAV,GACA,IAAAa,EAAAT,KACMU,OAAAC,EAAA,EAAAD,CAANd,EAAA,EAAAa,EAAAlB,WAAAqB,KAAA,SAAAC,GACAJ,EAAAhB,YAAAoB,EACAJ,EAAAK,mBAGAC,MAAA,SAAAC,OAIAC,SAfA,SAeAd,GAIAH,KAAAkB,QAAAC,MAAA9B,KAAA,cAAAa,OAAAC,SAEAiB,aArBA,SAqBAC,GAIArB,KAAAM,eAAAe,GACAjB,QAAAC,IAAA,8BAAAgB,IAEAP,eA5BA,WA8BA,SADAd,KACAP,aADAO,KACAP,YAAA6B,OAAA,EACA,QAAAC,EAAA,EAAAA,EAFAvB,KAEAP,YAAA6B,OAAAC,IACA,GAAAA,EAHAvB,KAIAP,YAAA8B,GAAAC,MAJAxB,KAIAP,YAAA8B,GAAAE,WAAAC,UAAA,KACAH,EAAA,GALAvB,KAMAP,YAAA8B,GAAAE,WAAAC,UAAA,MANA1B,KAMAP,YAAA8B,EAAA,GAAAE,WAAAC,UAAA,OANA1B,KAOAP,YAAA8B,GAAAC,MAPAxB,KAOAP,YAAA8B,GAAAE,WAAAC,UAAA,SCzFeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA7B,KAAa8B,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,iBAA2B,IAAAL,EAAArC,SAAAwC,EAAA,MAA8BE,YAAA,gBAA0BL,EAAAM,GAAA,QAAAN,EAAAO,GAAAP,EAAArC,UAAA,WAAAqC,EAAAQ,KAAAR,EAAAM,GAAA,KAAAN,EAAAS,GAAAT,EAAA,qBAAAU,GAA8G,OAAAP,EAAA,OAAiBE,YAAA,eAAAM,IAA+BC,MAAA,SAAAC,GAAyB,OAAAb,EAAAZ,SAAAsB,EAAAI,YAAmC,MAAAJ,EAAAf,MAAAQ,EAAA,MAAAH,EAAAM,GAAAN,EAAAO,GAAAG,EAAAf,UAAAK,EAAAQ,KAAAR,EAAAM,GAAA,KAAAH,EAAA,KAAwFE,YAAA,gBAAAU,OAAmCC,cAAA,UAAsBhB,EAAAM,GAAA,KAAAH,EAAA,QAAyBE,YAAA,SAAmBL,EAAAM,GAAAN,EAAAO,GAAAG,EAAAd,eAAAI,EAAAM,GAAA,KAAAH,EAAA,QAA2DE,YAAA,UAAoBL,EAAAM,GAAAN,EAAAO,GAAAG,EAAAO,cAAiCjB,EAAAM,GAAA,KAAAH,EAAA,iBAAkCY,OAAOG,aAAAlB,EAAAlC,WAA2B6C,IAAKpB,aAAAS,EAAAT,iBAAiC,IAE7xB4B,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE/D,EACAuC,GATF,EAVA,SAAAyB,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/1.ba3f7a32ef86c4de87d4.js","sourcesContent":["<template>\n  <div class=\"post-archive\">\n    <h1 class=\"label-title\" v-if=\"labelStr!=''\">正在查看 {{labelStr}} 下的文章</h1>\n    <div class=\"archive-item\" v-for=\"item in archiveList\"  @click=\"gotoRead(item.number)\">\n      <h2 v-if=\"item.fyear!=null\">{{item.fyear}}</h2>\n      <i class=\"fa fa-wpforms\" aria-hidden=\"true\"></i>\n<!--      <span class=\"date\">{{item.created_at | formatTimestampToDay}}</span>-->\n      <span class=\"date\">{{item.created_at}}</span>\n      <span class=\"title\">{{item.title}}</span>\n    </div>\n<!--      <a-pagination size=\"small\" :current=\"3\" :total=\"50\" @change=\"onChange\" />-->\n\n    <my-pagination :page-count=\"countBlog\" @onPageSelect=\"onPageSelect\"></my-pagination>\n  </div>\n</template>\n\n<script>\n  import {getBlogList,gitapiBlogList} from \"../api/request\";\n  import MyPagination from \"../components/MyPagination\";\n\n\n  export default {\n    name: \"BlogFilter\",\n    data(){\n      return {\n        labelType:'android', //1:android\n        labelStr:'Android',\n\n        archiveList:null,\n        test:'123',\n        countBlog:6,\n        pageIndex:1,\n      }\n    },\n    components: {\n      MyPagination\n    },\n    mounted() {\n      if (this.$route.query.id){\n        this.labelType = this.$route.query.id;\n      }\n      if (this.$route.query.name){\n        this.labelStr = this.$route.query.name;\n      }\n\n      if (this.$route.query.pageIndex){\n        this.pageIndex = this.$route.query.pageIndex;\n      }else{\n        this.pageIndex = 0;\n      }\n\n      console.log(this.labelType+\"---\"+this.labelStr);\n      this.getBlogsByType(this.pageIndex);\n\n\n    },\n    methods:{\n      onChange(){\n\n      },\n      getBlogsByType(pageIndex){\n        var _this = this;\n        gitapiBlogList(pageIndex,1,_this.labelType).then((response)=>{\n            _this.archiveList = response;\n            _this.formatBlogList();\n          // if (response.code==200){\n          // }\n        }).catch((err)=>{\n\n        })\n      },\n      gotoRead(id){\n        // this.$parent.currentContent = detail;\n        // this.$parent.selectTab(10);\n        // this.$router.push({name:\"blogContent\",params:{id:id}})\n        this.$router.push({name:\"blogContent\",query:{id:id}})\n      },\n      onPageSelect(index){\n        // var _this = this;\n        // _this.$router.push({name:\"blogArchive\",query:{id:Number(_this.labelType),name:_this.labelStr,pageIndex:--index}})\n\n        this.getBlogsByType(index); //选择大于1页的文章，跳转至详情页回跳时有问题\n        console.log('parent-blogArchive-getPage:'+index)\n      },\n      formatBlogList(){\n        var _this = this;\n        if (_this.archiveList != null && _this.archiveList.length>0){\n          for (let i = 0; i < _this.archiveList.length; i++) {\n            if (i==0){\n              _this.archiveList[i].fyear = _this.archiveList[i].created_at.substring(0,4);\n            }else if (i>0){\n              if (_this.archiveList[i].created_at.substring(0,4) != _this.archiveList[i-1].created_at.substring(0,4)){\n                _this.archiveList[i].fyear = _this.archiveList[i].created_at.substring(0,4);\n              }\n            }\n\n          }\n        }\n      },\n    }\n  }\n</script>\n\n<style scoped>\n  /* for archive page starts*/\n  .label-title {\n    margin-top: 10px;\n    font-size: 20px;\n    font-weight: normal;\n    color: #888;\n  }\n  .post-archive {\n    font-size: 15px;\n    line-height: 2;\n    padding: 0.8rem 10px;\n    text-align: start;\n  }\n  .post-archive .archive-item{\n    color: #444;\n    padding: 5px 10px;\n  }\n  .post-archive h2 {\n    margin: 10px 5px;\n    font: bold 25px / 1.1 \"ff-tisa-web-pro\", Cambria, \"Times New Roman\", Georgia, Times, sans-serif; }\n  .post-archive .date {\n    padding-left: 0.2em;\n    padding-right: .5em;\n    color: #444444;\n  }\n  .post-archive .title {\n    color: #6E7173\n  }\n  /* for archive page ends*/\n\n  #components-pagination-demo-mini .ant-pagination:not(:last-child) {\n    margin-bottom: 24px;\n  }\n  .ant-pagination li{\n    padding: 0;\n  }\n  .ant-pagination-item-active{\n    /*color: #6E7173;*/\n    border-color: #6E7173;\n  }\n  .ant-pagination-item-active {\n    font-weight: 500;\n    background: #fff;\n    border-color: #6E7173;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/BlogArchive.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"post-archive\"},[(_vm.labelStr!='')?_c('h1',{staticClass:\"label-title\"},[_vm._v(\"正在查看 \"+_vm._s(_vm.labelStr)+\" 下的文章\")]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.archiveList),function(item){return _c('div',{staticClass:\"archive-item\",on:{\"click\":function($event){return _vm.gotoRead(item.number)}}},[(item.fyear!=null)?_c('h2',[_vm._v(_vm._s(item.fyear))]):_vm._e(),_vm._v(\" \"),_c('i',{staticClass:\"fa fa-wpforms\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(item.created_at))]),_vm._v(\" \"),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))])])}),_vm._v(\" \"),_c('my-pagination',{attrs:{\"page-count\":_vm.countBlog},on:{\"onPageSelect\":_vm.onPageSelect}})],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57443fc4\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/BlogArchive.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-57443fc4\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./BlogArchive.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BlogArchive.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./BlogArchive.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57443fc4\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./BlogArchive.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-57443fc4\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/BlogArchive.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}